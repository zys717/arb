{
  "scenario_id": "S030_DynamicUTMScheduling",
  "scenario_name": "UTM Dynamic Scheduling",
  "version": "1.0",
  "created": "2025-11-08",
  "llm_only": true,
  "decision_labels": ["REJECT", "APPROVE", "CONDITIONAL_APPROVE", "UNCERTAIN"],
  "summary": "UTM coordinator must respect priority order, wind/charging/floor constraints, and conditional logic.",
  "test_cases": [
    {
      "case_id": "TC1_BaselineScheduling",
      "expected_decision": "CONDITIONAL_APPROVE",
      "expected_behavior": {
        "decision": "CONDITIONAL_APPROVE",
        "allocations": [
          "A immediate",
          "B delayed 5 min",
          "C delayed 15 min"
        ],
        "reasoning_steps": [
          "Step1: P1 medical first",
          "Step2: B waits for corridor spacing",
          "Step3: C waits until A/B clear"
        ]
      }
    },
    {
      "case_id": "TC2_WindForecast",
      "expected_decision": "CONDITIONAL_APPROVE",
      "expected_behavior": {
        "decision": "CONDITIONAL_APPROVE",
        "allocations": [
          "A immediate",
          "B approve if completes before 15 min (monitor wind)",
          "C after B"
        ],
        "reasoning_steps": [
          "Step1: compute window",
          "Step2: enforce fallback to REJECT if wind hits 14 m/s",
          "Step3: notify B about tight margin"
        ]
      }
    },
    {
      "case_id": "TC3_TemporaryNFZ",
      "expected_decision": "CONDITIONAL_APPROVE",
      "expected_behavior": {
        "decision": "CONDITIONAL_APPROVE",
        "allocations": [
          "B immediately (finish before NFZ)",
          "A reroute (+2 km, 21 min)",
          "C after B"
        ],
        "reasoning_steps": [
          "Step1: evaluate NFZ timing",
          "Step2: reroute A to stay legal",
          "Step3: confirm A still within 30-min window"
        ]
      }
    },
    {
      "case_id": "TC4_ChargingStation",
      "expected_decision": "REJECT",
      "expected_behavior": {
        "decision": "REJECT",
        "reasoning_steps": [
          "Step1: total timeline = 53 min > 30",
          "Step2: priority canâ€™t break physical limits",
          "Step3: recommend alternative asset"
        ]
      }
    },
    {
      "case_id": "TC5_ORLogic",
      "expected_decision": "APPROVE",
      "expected_behavior": {
        "decision": "APPROVE",
        "reasoning_steps": [
          "Step1: condition1 satisfied (wind 8 m/s)",
          "Step2: note waiver not needed"
        ]
      }
    },
    {
      "case_id": "TC6_PriorityInversion",
      "expected_decision": "CONDITIONAL_APPROVE",
      "expected_behavior": {
        "decision": "CONDITIONAL_APPROVE",
        "reasoning_steps": [
          "Step1: uphold medical > commercial",
          "Step2: B delayed/alternate slot"
        ]
      }
    },
    {
      "case_id": "TC7_GreyZone",
      "expected_decision": "CONDITIONAL_APPROVE",
      "expected_behavior": {
        "decision": "CONDITIONAL_APPROVE",
        "reasoning_steps": [
          "Step1: all constraints technically met",
          "Step2: add monitoring condition (GPS, abort if drift >20m)"
        ]
      }
    },
    {
      "case_id": "TC8_ConditionalChain",
      "expected_decision": "CONDITIONAL_APPROVE",
      "expected_behavior": {
        "decision": "CONDITIONAL_APPROVE",
        "reasoning_steps": [
          "Step1: battery <60 so evaluate next condition",
          "Step2: charger occupied so evaluate backup",
          "Step3: dispatch backup UAV"
        ]
      }
    }
  ]
}
